(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{313:function(s,a,t){s.exports=t.p+"assets/img/image-20221102185358047.1e83908b.png"},314:function(s,a,t){s.exports=t.p+"assets/img/image-20221102193201479.e375a87d.png"},315:function(s,a,t){s.exports=t.p+"assets/img/image-20221102193302973.dfc2ffb7.png"},316:function(s,a,t){s.exports=t.p+"assets/img/image-20221102193335484.8d2b41c4.png"},317:function(s,a,t){s.exports=t.p+"assets/img/image-20221102210321910.f35e8d31.png"},318:function(s,a,t){s.exports=t.p+"assets/img/image-20221102210410604.043e91df.png"},319:function(s,a,t){s.exports=t.p+"assets/img/image-20221102210529782.b8f15a42.png"},320:function(s,a,t){s.exports=t.p+"assets/img/image-20221102210559931.e91571ac.png"},321:function(s,a,t){s.exports=t.p+"assets/img/image-20221102230642974.a45f426f.png"},931:function(s,a,t){"use strict";t.r(a);var n=t(6),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("交换机，路由器")]),s._v(" "),a("h1",{attrs:{id:"网络基础知识扫盲"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网络基础知识扫盲"}},[s._v("#")]),s._v(" 网络基础知识扫盲")]),s._v(" "),a("h2",{attrs:{id:"交换机路由器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#交换机路由器"}},[s._v("#")]),s._v(" 交换机路由器")]),s._v(" "),a("p",[a("img",{attrs:{src:t(313),alt:"image-20221102185358047"}})]),s._v(" "),a("p",[s._v("路由器作用："),a("strong",[s._v("连接不同的网络")]),s._v("并且"),a("strong",[s._v("找到网络中数据传输最合适的路径")])]),s._v(" "),a("p",[s._v("交换机：独享宽带")]),s._v(" "),a("p",[s._v("两者区别：")]),s._v(" "),a("p",[s._v("​\t交换机属于OSI第二层即数据链路层设备。它根据MAC地址寻址")]),s._v(" "),a("p",[s._v("​\t路由器属于OSI第三层即网络层设备，它根据IP地址进行寻址，通过路由表路由协议产生")]),s._v(" "),a("h2",{attrs:{id:"mac地址和ip地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mac地址和ip地址"}},[s._v("#")]),s._v(" MAC地址和IP地址")]),s._v(" "),a("p",[a("strong",[s._v("mac")]),s._v(":唯一物理地址，48位的十六进制数【00-E1-8C-D8-EC-FE 十六进制】")]),s._v(" "),a("p",[a("strong",[s._v("IPV4")]),s._v("：32位的二进制数【192.168.1.1 十进制数】")]),s._v(" "),a("p",[a("strong",[s._v("IPv6")]),s._v("：地址是128位【FE80:0000:0000:0000:AAAA:0000:00C2:0002】")]),s._v(" "),a("p",[s._v('IPv4地址使用"点分十进制"法表示；IPv6地址使用"冒分十六进制"法')]),s._v(" "),a("p",[s._v("IP地址应用与OSI第三层，网络层，MAC地址应有于第二层，数据链路层")]),s._v(" "),a("p",[s._v("为了方便寻址，ip地址被分为网络号+主机号")]),s._v(" "),a("p",[s._v("网络号：区分网络是否在同一区域（网段）")]),s._v(" "),a("p",[s._v("主机号：区分同一个网络中的主机，说明网络里有多少台主机。")]),s._v(" "),a("p",[a("strong",[s._v("子网掩码")]),s._v("：用作于将IP地址划为网络号，和主机号，判断IP是否在同一个网路，其对应网络地址都为1,对应主机地址都为0")]),s._v(" "),a("h2",{attrs:{id:"a类地址-b类地址-c类地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#a类地址-b类地址-c类地址"}},[s._v("#")]),s._v(" A类地址，B类地址，C类地址")]),s._v(" "),a("p",[a("img",{attrs:{src:t(314),alt:"image-20221102193201479"}})]),s._v(" "),a("p",[s._v('A类IP地址由1字节的网络地址和3字节主机地址组成，网络地址的最高位必须是"0";')]),s._v(" "),a("p",[a("img",{attrs:{src:t(315),alt:"image-20221102193302973"}})]),s._v(" "),a("p",[s._v('B类IP地址由2个字节的网络地址和2个字节的主机地址组成，网络地址的最高位必须是"10";')]),s._v(" "),a("p",[a("img",{attrs:{src:t(316),alt:"image-20221102193335484"}})]),s._v(" "),a("p",[s._v('C类IP地址由3字节的网络地址和1字节的主机地址组成，网络地址的最高位必须是"110";')]),s._v(" "),a("h2",{attrs:{id:"子网划分"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#子网划分"}},[s._v("#")]),s._v(" 子网划分")]),s._v(" "),a("p",[s._v("IP地址=网络号+主机号(子网位+主机位)")]),s._v(" "),a("p",[s._v("IP=网络位+子网位(n)+主机位(m)")]),s._v(" "),a("p",[s._v("划分方法：")]),s._v(" "),a("p",[s._v("子网位为n;主机位为m")]),s._v(" "),a("p",[s._v("则子网数为2^n个，主机数为2^m-2个。")]),s._v(" "),a("p",[s._v("子网掩码都是由一串连续的0和连续的1组成。这里可以将n看做后面有多少个1，m看做后面有多少个0。")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("p",[s._v("子网掩码：网络位为全为1，主机位全为0")]),s._v(" "),a("p",[s._v("多少【2^n】个子网，每个子网下可容纳多少[2^m-2]台主机")])]),s._v(" "),a("p",[s._v("1.根据子网掩码判断主机数")]),s._v(" "),a("div",{staticClass:"language-tex line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-tex"}},[a("code",[s._v("子网掩码为255.255.255.0时，可以容纳多个台设备？\n分析：\n1. 子网掩码由连续的1和连续0组成；\n2. 用于判断IP地址网络位+主机位\n255.255.255.0\n11111111.11111111.11111111.0000000\n主机数：2^8-2\n255.255.248.0这个子网掩码可以最多容纳多少台电脑？\n1. 将子网掩码转成二进制数\n11111111.11111111.11111000.00000000\n2. 判断有多少个连续的0\n主机数：2^11-2=2046\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[s._v("2.根据主机和子网判断子网掩码")]),s._v(" "),a("div",{staticClass:"language-tex line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-tex"}},[a("code",[s._v("有一个B类网络145.38.0.0需要划分为20个能容纳200台主机的子网网络，子网掩码设置多少合适？\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("details",{staticClass:"custom-block details"},[a("summary",[s._v("点击查看")]),s._v(" "),a("p",[s._v("有两个维度，从主机维度算，和从网络数算")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("B")]),s._v("类网络 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" 网络数大于等于"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("个子网；主机数大于等于"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v("个主机\n网络数：\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111111.11111111")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".11111000")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".00000000")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".248")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),s._v("n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("m"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("\n主机数：\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111111.11111111")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".11111111")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".00000000")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".255")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),s._v("m"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v(" m"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])])]),s._v(" "),a("p",[s._v("3.根据IP和子网掩码判断子网数")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("已知192.168.0.0/255.255.255.128网络，请问最多可以划分几个子网，每个子网范围分别是多少\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("details",{staticClass:"custom-block details"},[a("summary",[s._v("点击查看")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" 子网掩码转成二进制\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("C")]),s._v("类默认： "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111111.11111111")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".11111111")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".00000000")]),s._v("\n实际掩码："),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111111.11111111")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".11111111")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".10000000")]),s._v("\n结果：对比判断，当前"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IP")]),s._v("向主机位借了"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("位；当前"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IP")]),s._v("最多可以划分"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("个子网\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v("判断每个子网的"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IP")]),s._v("范围\nx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("后面七位全"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("或者全"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".127")]),s._v("\n有效的"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IP")]),s._v("范围：\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".126")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".255")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".128")]),s._v("\n广播地址："),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".127")]),s._v("\nx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".128")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".255")]),s._v("\n有效的"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IP")]),s._v("范围：\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".128")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".254")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v("\n广播地址："),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".255")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])])]),s._v(" "),a("p",[s._v("4.判断IP是否在同一个网段")]),s._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[s._v("点击查看")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("192.168.1.254/24\nIP: 11000000.10101000.00000001.11111110\n子网掩码：11111111.11111111.11111111.00000000\n11000000.10101000.00000001.00000000\n192.168.0.254/24\nIP：   11000000.10101000.00000000.11111110\nNETMASK：11111111.11111111.11111111.00000000\n1100000.10101000.00000000.00000000\n方法：IP地址和子网掩码做and运算，然后判断网络位是否相同\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])])]),s._v(" "),a("h1",{attrs:{id:"osi的七层模型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#osi的七层模型"}},[s._v("#")]),s._v(" OSI的七层模型")]),s._v(" "),a("p",[s._v("一共有七层："),a("strong",[s._v("物理层、数据链路层、网络层、传输层、会话层、表示层、应用层")])]),s._v(" "),a("p",[s._v("应用层：为用户提供服务，接口")]),s._v(" "),a("p",[s._v("表示层：数据格式处理，数据的编码，压缩和解压缩，数据的加密和解密")]),s._v(" "),a("p",[s._v("会话层：组织和协调两个会话进程之间的通信，并对数据交换进行管理。")]),s._v(" "),a("p",[s._v("传输层：向用户提供可靠的端到端的差错和流量控制，保证报文的正确传输")]),s._v(" "),a("p",[s._v("网络层：数据链路层的数据在这一层被转换为包，然后通过路径选择、分段组合、顺序、进/出路由等控制，将信息从一个网络设备传送到另一个网络设备")]),s._v(" "),a("p",[s._v("数据链路层：通过差错控制、流量控制方法，使有差错的物理线路变为无差错的数据链路，即向网络层提供可靠的通过物理介质传输数据的方法并且，还负责处理接收端发回的确认帧的信息，以便提供可靠的数据传输。")]),s._v(" "),a("p",[s._v("物理层：利用传输介质为数据链路层提供物理连接，实现比特流的透明传输")]),s._v(" "),a("h2",{attrs:{id:"tcp-ip协议模型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp-ip协议模型"}},[s._v("#")]),s._v(" TCP/IP协议模型")]),s._v(" "),a("img",{staticStyle:{zoom:"80%"},attrs:{src:t(317),alt:"image-20221102210321910"}}),s._v(" "),a("img",{staticStyle:{zoom:"80%"},attrs:{src:t(318),alt:"image-20221102210410604"}}),s._v(" "),a("h2",{attrs:{id:"tcp-ip三次握手"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp-ip三次握手"}},[s._v("#")]),s._v(" TCP/IP三次握手")]),s._v(" "),a("p",[a("img",{attrs:{src:t(319),alt:"image-20221102210529782"}})]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(" TCP三次握手的过程如下：\n 1. 客户机A端（主动连接端）发送一个SYN包给服务器B端（被动连接端）；\n 2. 服务器B端（被动连接端）收到SYN包后，发送一个带ACK和SYN标志的包给客户机A端（主动连接端）；\n 3. 客户机A端（主动连接端）发送一个带ACK标志的包给服务器B端（被动连接端），握手动作完成。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"tcp-ip四次断开"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp-ip四次断开"}},[s._v("#")]),s._v(" TCP/IP四次断开")]),s._v(" "),a("p",[a("img",{attrs:{src:t(320),alt:"image-20221102210559931"}})]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("TCP四次断开的过程如下：\n1. 客户机A端（主动连接端）发送一个FIN包给服务器B端（被动连接端）请求断开连接；\n2. 服务器B端（被动连接端）收到FIN包后，发送一个ACK包给客户机A端（主动连接端）；\n3. 服务器B端（被动连接端）发送了ACK包后，再发送一个FIN包给客户机A端（主动连接端）确认断开；\n4. 客户机A端（主动连接端）收到FIN包后，发送一个ACK包，当服务器B端（被动连接端）收到ACK包后，四次断开动作完\n成，连接断开\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h2",{attrs:{id:"查看物理连接状态"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看物理连接状态"}},[s._v("#")]),s._v(" 查看物理连接状态")]),s._v(" "),a("p",[s._v("查看物理连接状态")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ethtool ens33")]),s._v("\nSettings "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" ens33:\n\tSupported ports: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" TP "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\tSupported "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" modes:   10baseT/Half 10baseT/Full \n\t                        100baseT/Half 100baseT/Full \n\t                        1000baseT/Full \n\tSupported pause frame use: No\n\tSupports auto-negotiation: Yes\n\tSupported FEC modes: Not reported\n\tAdvertised "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" modes:  10baseT/Half 10baseT/Full \n\t                        100baseT/Half 100baseT/Full \n\t                        1000baseT/Full \n\tAdvertised pause frame use: No\n\tAdvertised auto-negotiation: Yes\n\tAdvertised FEC modes: Not reported\n\tSpeed: 1000Mb/s\n\tDuplex: Full\n\tPort: Twisted Pair\n\tPHYAD: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\tTransceiver: internal\n\tAuto-negotiation: on\n\tMDI-X: off "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("auto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tSupports Wake-on: d\n\tWake-on: d\n\tCurrent message level: 0x00000007 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t\t\t       drv probe "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v("\n\tLink detected: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br")])]),a("p",[s._v("查看路由和dns配置")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ip route")]),s._v("\ndefault via "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".12.2 dev ens33 proto static metric "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.17")]),s._v(".0.0/16 dev docker0 proto kernel scope "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" src "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.17")]),s._v(".0.1 \n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".12.0/24 dev ens33 proto kernel scope "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" src "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".12.140 metric "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat /etc/resolv.conf")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Generated by NetworkManager")]),s._v("\nnameserver "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("114.114")]),s._v(".114.114\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("重启网卡命令")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ifup")]),s._v(" eth0\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ifdown")]),s._v(" eth0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h1",{attrs:{id:"路由信息和抓包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路由信息和抓包"}},[s._v("#")]),s._v(" 路由信息和抓包")]),s._v(" "),a("p",[s._v("什么是交换,什么是路由,什么是路由表？")]),s._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[s._v("点击查看")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1. 交换是指同网络访问（两台机器连在同一个交换机上，配置同网段的不同ip就可以直接通迅)\n2. 路由就是跨网络访问(路径选择）\n3. 路由表是记录路由信息的表，在Linux中⾸先是⼀张可见的,可更改的表,它的作⽤就是当数据包发到Linux的时候，系统（或者说内核)就根据这张表中定义好的信息来决定这个数据包接下来该怎么⾛.\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])]),s._v(" "),a("p",[s._v("首先route命令安装")]),s._v(" "),a("p",[s._v("yum install net-tools -y")]),s._v(" "),a("p",[s._v("这个就是路由表")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# route -n")]),s._v("\nKernel IP routing table\nDestination     Gateway         Genmask         Flags Metric Ref    Use Iface\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".12.2    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0         UG    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" ens33\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.17")]),s._v(".0.0      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".0.0     U     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" docker0\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".12.0    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.0   U     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" ens33\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("Destination目标网络，Gateway网关，Genmask子网掩码，UG：该网关为路由器 UP:启动状态")]),s._v(" "),a("h2",{attrs:{id:"路由怎么走的"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路由怎么走的"}},[s._v("#")]),s._v(" 路由怎么走的")]),s._v(" "),a("p",[s._v("ping一个公网IP，怎么走")]),s._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[s._v("点击查看")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1) 先看目标ip是否为本地ip，如果是，则直接访问本地;如果不是，则找路由表里是否有你访问的网段.\n2) 如果路由表有则从这个路由条目后面指定的网卡出去；如果路由表里没有你访问的网段，则会找默认路由\n （也就是网关）。\n3) 如果网关也没有的话，则会报错网络不可达。\nconnect: Network is unreachable\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])]),s._v(" "),a("h2",{attrs:{id:"如何加网关和删除网关-加网关有什么要求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何加网关和删除网关-加网关有什么要求"}},[s._v("#")]),s._v(" 如何加网关和删除网关，加网关有什么要求")]),s._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[s._v("点击查看")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("route add default gw  x.x.x.x  临时加网关，马上生效\nroute del default gw  x.x.x.x   临时删网关，马上生效\n永久生效\nvim  /etc/sysconfig/network-scripts/ifcfg-eth0\nGATEWAY=x.x.x.x\n或者\nvim /etc/rc.local \nroute add default gw xxxxx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])])]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),a("p",[s._v("1.加网关只能加你已经有的路由网段里的一个IP才行（此IP不一定存在）")]),s._v(" "),a("p",[s._v("2.加网关可以不用指定子网掩码（因为是已有的一个网段的ip，所以掩码已经确认了)")])]),s._v(" "),a("p",[s._v("route常用命令")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("route -n  查看路由,显示ip,不解析\nroute del default gw "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.1")]),s._v(".1.254   删除默认路由\nroute "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" default gw "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.110   添加一个默认网关，把所有不知道的网络交给网关来转发\nroute "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -net "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".2.0/24 dev eth0 对一个网络添加一个新的路由（另一个网段）\nroute del -net "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".2.0/24\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h2",{attrs:{id:"路由选择实验"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路由选择实验"}},[s._v("#")]),s._v(" 路由选择实验")]),s._v(" "),a("p",[a("img",{attrs:{src:t(321),alt:"image-20221102230642974"}})]),s._v(" "),a("h1",{attrs:{id:"抓包工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#抓包工具"}},[s._v("#")]),s._v(" 抓包工具")]),s._v(" "),a("h2",{attrs:{id:"_1-wireshark"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-wireshark"}},[s._v("#")]),s._v(" "),a("strong",[s._v("1.wireshark")])]),s._v(" "),a("p",[s._v("安装抓包工具")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("yum -y install wireshark*\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("服务端:192.168.12.140安装")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum -y install telnet-server")]),s._v("\n………………………………\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl start telnet.socket")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# netstat -nltp|grep :23")]),s._v("\ntcp6       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::23                   :::*                    LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/systemd        \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h2",{attrs:{id:"_2-tcpdump"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-tcpdump"}},[s._v("#")]),s._v(" "),a("strong",[s._v("2.tcpdump")])]),s._v(" "),a("p",[s._v("查看主机192.168.12.141收到的和发送的数据包")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tcpdump -i ens33 -nn host 192.168.12.141")]),s._v("\ntcpdump: verbose output suppressed, use -v or -vv "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" full protocol decode\nlistening on ens33, link-type EN10MB "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Ethernet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", capture size "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("262144")]),s._v(" bytes\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":27:40.426619 ARP, Request who-has "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".12.141 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("00:0c:29:ad:08:0b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" tell "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".12.3, length "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("46")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":27:40.426860 ARP, Reply "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".12.141 is-at 00:0c:29:ad:08:0b, length "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("46")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":27:58.356782 IP "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".12.141.52043 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".12.140.123: NTPv4, Client, length "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":27:58.356982 IP "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".12.140.123 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".12.141.52043: NTPv4, Server, length "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":28:03.365375 ARP, Request who-has "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".12.141 tell "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".12.140, length "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":28:03.365663 ARP, Reply "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".12.141 is-at 00:0c:29:ad:08:0b, length "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("46")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("-i 指定网络接口，对于多个网络接口有用\n-n 显示IP地址，不查主机名。当DNS不起作用时常用到这个参数\n-nn 不显示协议和端口名。即显示IP地址和端口\n-w  将抓的包保存到指定的文件里方便后续分析")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".获取主机10.1.1.1接收或发出的telnet包\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#tcpdump tcp port 23 and host 10.1.1.1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".对本机的udp协议的123端口进行监听（123是ntp服务端口）\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tcpdump udp port 123")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".只对hostname的主机的通信数据包进行监视。主机名可以是本地主机，也可以是网络上的任何一台计算机。\n下面的命令可以查看主机hostname发送的所有数据：\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#tcpdump -i eth0 src host hostname")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#tcpdump -i eth0 src host 10.1.1.254")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(".下面的命令可以查看所有送到主机hostname的数据包：\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#tcpdump -i eth0 dst host hostname")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#tcpdump -i eth0 dst host 10.1.1.1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(".监视通过指定网关的数据包：\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#tcpdump -i eth0 gateway Gatewayname")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#tcpdump -i eth0 gateway 10.1.1.254")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(".其他\n只需要列出送到80端口的数据包，用dst port；\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#tcpdump –i eth0 host hostname and dst port 80  //目的端口是80")]),s._v("\n只需要看到返回80端口的数据包，用src port\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#tcpdump –i eth0 host hostname and src port 80 //源端口是80,一般是提供http的服务的主机")]),s._v("\n如果条件很多的话要在条件之前加and 或 or 或 not\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#tcpdump -i eth0 host ! 210.161.223.70 and ! 210.161.223.71 and dst port 80")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("p",[s._v("测试有报错")]),s._v(" "),a("p",[s._v("监视通过指定网关的数据包")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@localhost ~]# tcpdump -i ens33 gateway 192.168.12.2\ntcpdump: 'gateway' requires a name\n[root@localhost ~]# tcpdump -i ens33 gateway 192.168.12.2\ntcpdump: 'gateway' requires a name\n[root@localhost ~]# tcpdump -i eth0 gateway 192.168.12.2\ntcpdump: eth0: No such device exists\n(SIOCGIFHWADDR: No such device)\n[root@localhost ~]# tcpdump -i ens33 gateway 192.168.12.2\ntcpdump: 'gateway' requires a name\n[root@localhost ~]# tcpdump -i ens33 Gateway 192.168.12.2\ntcpdump: syntax error\n[root@localhost ~]# tcpdump -i ens33  192.168.12.2\ntcpdump: syntax error\n[root@localhost ~]# tcpdump -i ens33  192.168.12.2 192.168.12.140\ntcpdump: syntax error\n[root@localhost ~]# tcpdump -i ens33  192.168.12.2 192.168.12.141\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("p",[s._v("6监听成功")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tcpdump -i ens33 host 192.168.12.140 and dst port 80 ")]),s._v("\ntcpdump: verbose output suppressed, use -v or -vv "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" full protocol decode\nlistening on ens33, link-type EN10MB "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Ethernet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", capture size "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("262144")]),s._v(" bytes\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);